<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // strategy策略&&salary薪水&&bonus奖金&&calculate计算
      // 三种策略类
      var performanceS = function (salary) {};
      performanceS.prototype.calculate = function (salary) {
        return salary * 4;
      };
      var performanceA = function (salary) {};
      performanceA.prototype.calculate = function (salary) {
        return salary * 3;
      };
      var performanceB = function (salary) {};
      performanceB.prototype.calculate = function (salary) {
        return salary * 2;
      };
      // 奖金类
      var Bonus = function () {
        this.salary = null;
        this.strategy = null;
      };
      // 设置薪资
      Bonus.prototype.setSalary = function (salary) {
        this.salary = salary;
      };
      // 设置绩效(策略)
      Bonus.prototype.setStrategy = function (strategy) {
        this.strategy = strategy;
      };
      Bonus.prototype.getBonus = function (strategy) {
        // this.strategy为new performanceS()的实例
        // this.salary为10000
        return this.strategy.calculate(this.salary);
      };
      var bonus1 = new Bonus();
      bonus1.setSalary(10000);
      bonus1.setStrategy(new performanceS());
      console.log(bonus1.getBonus());
      /**
       * 奖金类指定奖金和策略
       * 奖金类的原型上挂在了三个方法：设置策略setStrategy，设置奖金setSalary，获取计算策略X奖金的方法getBonus
       * 执行计算方法时，需要执行策略上的计算奖金的方法this.strategy.calculate
       * 在策略类内将奖金X计算公式，得到计算结果
       *
       */
    </script>
  </body>
</html>
